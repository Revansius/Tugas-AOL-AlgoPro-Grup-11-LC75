// sistem restoran
#include <stdio.h>

// STRUCT
struct Menu {
    char nama[30];
    int harga;
    int stok;
};
struct Menu appetizer[5] = {
    {"Garlic Cheese Bread", 20000, 30},
    {"French Fries", 20000, 30},
    {"Chicken Wing", 27000, 30},
    {"Oyster", 35000, 30},
    {"Salad", 15000, 30}
};

struct Menu mainCourse[5] = {
    {"Nasi Goreng", 50000, 10},
    {"Salted Egg Chicken", 65000, 10},
    {"Spaghetti Carbonara", 70000, 10},
    {"Beef Steak", 105000, 10},
    {"Chicken Katsu Curry", 80000, 10}
};

struct Menu beverages[5] = {
    {"Avochoco", 35000, 10},
    {"Lychee Tea", 25000, 10},
    {"Lemon Cocktail", 50000, 10},
    {"Biscoff Espresso", 45000, 10},
    {"Chocolate", 30000, 10}
};

struct Menu dessert[5] = {
    {"Burnt Cheesecake", 35000, 10},
    {"Choco Lava", 25000, 10},
    {"Panacotta", 20000, 10},
    {"Pancake Lotus Ice Cream", 40000, 10},
    {"Trio Ice Cream", 30000, 10}
};

// FUCNTION
void tampilMenu(struct Menu menu[], int jumlah, char judul[]) {
    printf("\n== %s ==\n", judul);
    printf("-------------------------------------------------------------\n");

    for (int i = 0; i < jumlah; i++) {
        printf("%-4d | %-25s | %-11d | %-5d\n",
               i + 1,
               menu[i].nama,
               menu[i].harga,
               menu[i].stok);
    }

    printf("-------------------------------------------------------------\n");

}


void clear_stdin(){
    int c;
    while ((c == getchar()) != '\n' && c != EOF){

	}
}

// void meja(int *invalid, int *ok){
// }

void MenuUtama(){
	printf("Silahkan Pilih Jenis Menu yang Anda Ingin Pesan\n");
    printf("1. Appetizer\n");
    printf("2. Main Course\n");
    printf("3. Beverages\n");
    printf("4. Dessert\n");
    printf("5. Bayar\n");
    printf("Choose : ");
}


void Display() {
    char nama[50], email[50];
    int people, meja;

    printf("==========================================\n");
    printf("      Selamat Datang di Trouville\n");
    printf("==========================================\n");

    printf("Nama          : \n");
    scanf("%s", nama);

    printf("Email         : \n");
    scanf("%s", email);

    printf("Jumlah Orang  : \n");
    scanf("%d", &people);

    printf("No Meja       : \n");
    scanf("%d", &meja);

    printf("==========================================\n");
}

void orderMenu(struct Menu menu[], int jumlah){
    int pilih, quantity[];
    printf("Masukkan No. pesanan: \n");
    scanf("%d", &pilih);
    
    if(pilih < 1 || pilih > jumlah){
        printf("Pilihan Tidak Valid!\n");
        return;
    }

    int idx = pilih - 1;

    printf("Jumlah yang pesanan %s: \n", menu[idx].nama);
    scanf("%d", &quantity);

    if(quantity <= 0){
        printf("Jumlah pesanan harus lebih dari 0\n");
        return;
    }
    if(menu[idx].stok >= quantity){
        menu[idx].stok -= quantity;
        printf("Pesanan anda berhasil\n");
    }else printf("Mohon maaf stok menu yang anda pilih sudah habis\n");


}

void bayar(struct Menu){
    printf("==========================================\n");
    printf("                   Payment\n")
    printf("==========================================\n");
    for (int i = 0; i < ; i++) {
        printf("%-4d | %-25s | %-11d | %-5d\n",
               i + 1,
               menu[i].nama,
               menu[i].harga,
               quantity);
    }
}

// MAIN
int main(){
   
    
    int pilihMenu;
    Display();
    do {
        
        MenuUtama();
        scanf("%d", &pilihMenu);

        switch(pilihMenu){
            case 1: 
                tampilMenu(appetizer, 5, "APPETIZER");
                orderMenu(appetizer, 5);
                break;
            case 2:
                tampilMenu(mainCourse, 5, "MAIN COURSE");
                orderMenu(mainCourse, 5);
                break;
            case 3:
                tampilMenu(beverages, 5, "BEVERAGES");
                orderMenu(beverages, 5);
                break;
            case 4:
                tampilMenu(dessert, 5, "DESSERT");
                orderMenu(dessert, 5);
                break;
            case 5:

                break;
            default:
                printf("Pilihan tidak valid!\n");


        }
    }while (pilihMenu != 5);



    
    
    
    return 0;
}
